文档总体概述
======
* 文档包括两个部分，请求和响应的介绍
* 请求字段包括如下的基本内容  
	mod：模块名称   
	act：动作名称   
	uid：用户的uid，如果没有uid的时候传-1   
	auth_key：登陆的时候获得的权限相关的key，如果key失效的时候会返回固定的错误码，则需要重新登陆，重新获取auth_key   
	auth_time:登陆的时候获得的相关时间戳
	seq：此次login登陆之后的操作的序号，每次登陆之后会重新从1开始计算
	args：为一个json的object对象
* 响应字段包括如下的基本内容   
	mod：模块名称   
	act：动作名称   
	args：请求中的相关参数   
	data：返回的数据，为一个json的object或者数组对象   
	serverTime：此次操作的服务器端的时间   
	code：用户的相关返回值，会在后面详细介绍每一个code对应的内容
* 每个接口描述中主要描述请求中的args的相关内容和返回值中的data中的相关内容
* 所有的请求的url为统一的url，只是通过post协议的中的mod和act的不同来区分，所以文档中没有对api做详细的描述
* 错误代码详见错误代码文档


用户相关接口
======
注册接口
-----
* 请求数据  
	* mod:user
	* act:register		 	 
	* name：用户名   
    * password：用户密码   
* 返回数据   
	* id：用户注册后的uid  
+ 样例   
	{"act":"register","args":{"name":"aaab","password":"bbbb"},"code":0,"data":{"id":2},"mod":"user","serverTime":1396431197791} 
---

登陆接口
-----
* 请求数据   
	+ mod: user
	+ action: login
	+ name：用户名   
	+ password：密码   
+ 返回数据
    * uid   uid

-----

获得用户信息接口
------
* 请求数据
    * mod   user
    * action getInfo
* 返回数据
	* userStatus
		* id	用户id 
		* gold	金币数量
		* food	粮食的数量
		* cash	元宝的数量
		* honor	荣誉的数量
		* level	等级
		* xp	当前经验
		* name	用户名称
		* soul	魂魄数量
		* levelUpXp 升级所需xp
		* fightForce	战斗力
		* castleTimer	上一次城堡收获的时间戳	
		* farmCastle	上一次农场收获的时间戳
    * teamRoleList
        * id    用户角色id
        * name  用户角色名称
* 样例
	*  {"act":"login","args":{"name":"c","password":"c"},"code":0,"data":{"authKey":"a87ff679a2f3e71d9181a67b7542122c","authTime":1404387017638,"userStatus":{"cash":50000,"castleTimer":1404301376521,"farmTimer":1404301376510,"fightForce":0,"food":500000,"gold":50000000,"honor":500000,"level":1,"name":"c","soul":0,"uid":4,"vip":0,"xp":0}},"mod":"user","serverTime":1404387017680} 
	
---	

城堡相关接口
=======
收获金币接口
-----
+ 请求数据
	* mod:castle
	* action:harvest
+ 响应数据
	* gold	金币数量
	* timer	收获时间的时间戳
* 样例
	* {"act":"harvest","args":{},"code":0,"data":{"gold":88452,"timer":1404388219821},"mod":"castle","serverTime":1404388219825} 

----
	
农场相关接口
======
收获粮食接口
-------
+ 请求数据
	* mod:farm
	* act:harvest
+ 响应数据
	* food	粮食数量
	* timer	收获时候的时间戳
* 样例
	*  {"act":"harvest","args":{},"code":0,"data":{"food":32,"timer":1404388218968},"mod":"farm","serverTime":1404388218975} 


---

酒馆相关接口
========
邀请将领
------
+ 请求数据
+ 相应数据
	* 相应数据为数组
	* 每个数组对应的内容为
		* gold:消耗的金币
		* status: 0为没有被招募，1已经被招募
		* id:对应的role的id
		* roleName：角色的名字
+ 样例
	*  {"act":"invite","args":{},"code":0,"data":{"process":{"data":[{"gold":1500,"id":239,"roleName":"高干","status":0},{"gold":4000,"id":261,"roleName":"杜袭","status":0},{"gold":9000,"id":250,"roleName":"陈武","status":0},{"gold":12000,"id":228,"roleName":"蔡瑁","status":0},{"gold":9000,"id":125,"roleName":"管亥","status":0},{"gold":12000,"id":218,"roleName":"公孙渊","status":0},{"gold":25000,"id":122,"roleName":"甘夫人","status":0},{"gold":12000,"id":138,"roleName":"马忠","status":0},{"gold":9000,"id":239,"roleName":"高干","status":0},{"gold":4000,"id":223,"roleName":"黄皓","status":0}]}},"mod":"tavern","serverTime":1404472361820} 

--------

雇佣将领
------
+ 请求数据
	* mod	tavern
	* act	enroll	
+ 响应数据
	* attack	攻击力
	* curSkill 	选择的主动技能
	* defence	防御力
	* fightForce	战斗力
	* health	生命值
	* id	邀请将领列表中的序号
	* level	等级
	* roleId	role的id
	* skillLevel	所有技能的等级
	* soldier	兵种的类别
	* uid	用户id
+ 样例
	* {"act":"enroll","args":{"pos":1},"code":0,"data":{"role":{"attack":33,"curSkill":0,"defence":0,"fightForce":0,"health":240,"id":2,"level":1,"roleId":189,"skillLevels":{1:1,2:1,3:1,4:1,5:1},"soldier":4,"uid":1}},"mod":"tavern","serverTime":1397057359924}

----


送走将领
--------
+ 请求数据
	* mod	tavern
	* act	leave
+ 响应数据
	* soul	获得灵魂的数量
+ 样例
> {"act":"leave","args":{},"code":0,"data":{"soul":40},"mod":"tavern","serverTime":1397035271550}


技能相关接口(todo)
========
升级技能
-------
+ 请求数据
	* 基本数据
		* mod	skill
		* act	upgrade
	* 参数
		* skill	技能序号
		* urid	用户将领的id
	
+ 响应数据
	* nextSkillLevel	下一个技能的等级
+ 样例
> {"act":"upgrade","args":{"skill":1,"urid":1},"code":0,"data":{"nextSkillLevel":3},"mod":"skill","serverTime":1397032252691}


将领接口
=======
穿装备接口
-------
+ 请求数据
	* 基本数据
		* mod	role
		* act	wear
	* 参数
		* ueid	用户装备id
		* urid	用户角色id
+ 响应数据
+ 样例
	+ {"act":"wear","args":{"ueid":23,"urid":"14"},"code":0,"data":{"finished_task":[{"awards":[],"gold":1000,"id":1,"level":1,"xp":12}]},"mod":"role","serverTime":1404474138421}

脱装备接口
------
+ 请求数据
	* 基本数据
		* mod	role
		* act takeOff
	* 参数
		* ueid	用户装备id
		* urid	用户角色id
+ 响应数据
+ 样例
	+ {"act":"takeOff","args":{"ueid":"22","urid":"14"},"code":0,"data":{},"mod":"role","serverTime":1404652177392}
	
------	
	
获得将领列表
-------
+ 请求数据
	+ 基本数据
		+ mod	role
		+ act	roleList
	+ 参数
		
+ 响应数据
	+ 数组
		+ accessory	饰品
		+ armor		头盔
		+ weapon	武器
		+ attack	攻击力
		+ defence	防御力
		+ health	士兵数
		+ fightForce	战斗力
		+ id		用户将领的id
		+ roleId	将领id
		+ roleName	将领名称
		+ level		等级
		+ curSkill	当前开启的技能
		+ skillLevels： 为一个hash，有1-6作为key，每个技能的value为等 
+ 样例
	+ {"act":"userRoleList","args":{},"code":0,"data":{"list":[{"accessory":21,"accessoryInfo":{"level":1,"name":"参将符","userEquipId":21},"armor":0,"attack":45,"curSkill":0,"defence":67,"fightForce":259,"health":400,"id":14,"level":1,"roleId":48,"roleName":"刘乐乐","skillLevels":{"1":1,"2":1,"3":1,"4":1,"5":1},"soldier":1,"uid":4,"weapon":0,"xp":0},{"accessory":0,"armor":0,"attack":33,"curSkill":0,"defence":17,"fightForce":58,"health":320,"id":17,"level":1,"roleId":239,"roleName":"高干","skillLevels":{"1":1,"2":1,"3":1,"4":1,"5":1},"soldier":2,"uid":4,"weapon":0,"xp":0}]},"mod":"role","serverTime":1404652177488}
	
---------
获得将领的详细信息(已经删除)
----------
+ 请求数据
	+ 基本数据
		+ mod	role
		+ act	role
	+ 参数
		+ urid	用户将领id
+ 响应数据
	+ role
		+ accessory	饰品
		+ armor		头盔
		+ weapon	武器
		+ attack	攻击力
		+ defence	防御力
		+ health	士兵数
		+ fightForce	战斗力
		+ id		用户将领的id
		+ roleId	将领id
		+ roleName	将领名称
		+ level		等级
		+ curSkill	当前开启的技能
		+ skillLevels： 为一个hash，有1-6作为key，每个技能的value为等 
+ 样例
>{"act":"role","args":{"urid":3},"code":0,"data":{"role":{"accessory":0,"armor":0,"attack":45,"curSkill":0,"defence":67,"fightForce":76,"health":400,"id":3,"level":1,"roleId":48,"roleName":"刘乐乐","skillLevels":{"1":1,"2":1,"3":1,"4":1,"5":1},"soldier":1,"uid":2,"weapon":0}},"mod":"role","serverTime":1402591295172}

-------

装备接口
=======
获得没有使用过的用户装备列表
-------
+ 请求数据
	+ mod:equip
	+ act:noUsedEquipList
	+ type:weapon,accessory,armor	
+ 返回数据
	+ 返回的数据是一个数据
		+ equipName：装备名称
		+ fail:失败次数
		+ gems:宝石相关的数据
		+ id：用户装备id
		+ level：装备等级
		+ refine：
		+ star：
		+ strength：强化等级		
		+ type：weapon，accessory，armor
		+ uid：用户id
		+ urid：用户role的id		
+ 样例
	+ {"act":"equipList","args":{"type":"weapon"},"code":0,"data":{"equipList":[{"equipName":"雌雄双剑","fail":0,"gems":"{}","gemsMap":{},"id":23,"level":1,"refine":0,"star":0,"strength":1,"type":"weapon","uid":4,"urid":0},{"equipName":"雌雄双剑","fail":0,"gems":"{}","gemsMap":{},"id":26,"level":1,"refine":0,"star":0,"strength":1,"type":"weapon","uid":4,"urid":0},{"equipName":"雌雄双剑","fail":0,"gems":"{}","gemsMap":{},"id":29,"level":1,"refine":0,"star":0,"strength":1,"type":"weapon","uid":4,"urid":0}]},"mod":"equip","serverTime":1404652512866}

-----

强化
------
+ 请求数据
	+ mod:equip
	+ act:strengthen
	+ ueid:用户装备id
+ 返回数据
	+ gold:使用的金币数
	+ strength：强化后的等级
+ 样例
	+ {"act":"strengthen","args":{"ueid":"18"},"code":0,"data":{"gold":112,"strength":2},"mod":"equip","serverTime":1404720832442}

----
	
升级
------
+ 请求数据
	+ mod:equip
	+ act:make
	+ ueid:用户装备id
+ 返回数据
	+ level：升级后的等级
	+ material：hash为一个id和他的数据
+ 样例
	+ {"act":"make","args":{"ueid":"12"},"code":0,"data":{"level":2,"material":{"1":-10,"27":-1}},"mod":"equip","serverTime":1404722099316}

-----
	
装备详细信息
------
+ 请求数据
	+ mod: equip
	+ act:equip
	+ ueid:用户装备id
+ 返回数据
	+ equipName：装备名称
	+ fail:失败次数
	+ gems:宝石相关的数据
	+ id：用户装备id
	+ level：装备等级
	+ refine：
	+ star：
	+ strength：强化等级		
	+ type：weapon，accessory，armor
	+ uid：用户id
	+ urid：用户role的id	
	+ materialType1CurrentCount：现在拥有的升级材料1的数量
	+ materialType1Id：升级材料1的类型
	+ materialType1Name：升级材料1的名称
	+ materialType1NeedCount：升级需要的材料1的数量
	+ materialType2CurrentCount：现在拥有的升级材料2的数量
	+ materialType2Id：升级材料2的类型
	+ materialType2Name：升级材料2的名称
	+ materialType2NeedCount：升级需要的材料2的数量
	+ needGold：强化需要的金币
	+ curGold：当前的拥有的金币数量
+ 样例
	+ {"act":"equip","args":{"ueid":"12"},"code":0,"data":{"userEquip":{"curGold":429481002,"equipInfo":{"name":"七星剑"},"fail":0,"gems":"{}","id":12,"level":2,"materialType1CurrentCount":990,"materialType1Id":1,"materialType1Name":"黑铁","materialType1NeedCount":15,"materialType2CurrentCount":4,"materialType2Id":28,"materialType2Name":"二级图纸","materialType2NeedCount":1,"needGold":100,"refine":0,"star":0,"strength":1,"type":"weapon","uid":2,"urid":12}
	
	
商店相关接口
=====
商店信息
-----
+ 请求数据
	+ mod：shop
	+ act：shopList
+ 返回数据：
	+ category1：一级类别
	+ category2：二级类别
	+ category3：三级类别
	+ currency：购买需要的货币
	+ id：商品id
	+ price：价格
+ 样例
	+ 为数据，其中一个如下
	+ {"category1":"inventory","category2":"material","category3":"17","currency":"honor","discount":0,"id":53,"label1":0,"label2":0,"name":"凤凰珠","openDays":0,"op	enLevel":47,"price":3000,"restrictions":0}
	
------

购买商品
-----
+ 请求数据
	+ mod:inventory
	+ act:buy
	+ num:数量
	+ id：商品id
+ 返回数据
	+ cost_num：花费
	+ cost_type：货币类型
+ 样例
	+ {"act":"buy","args":{"id":10,"num":1},"code":0,"data":{"adwards":[["material",4,1]],"cost_num":-18,"cost_type":"cash"},"mod":"inventory","serverTime":1404724775695}

----

背包相关接口
=====

获取背包信息
------
+ 请求数据
    + mod:package
    + act:get
+ 返回数据
    + equip:为装备列表
        + id：用户装备id
        + name：装备名称
    + gemList：宝石列表
        + id：宝石材料的id
        + name：宝石的名称
    + gemMap: 宝石hash
        + key：宝石的id
        + value：现有的数量
    + materialList: 材料列表
    + materialMap: 材料hash
+ 样例
    +  {"act":"get","content":"response","mod":"package","params":{"resp":{"act":"get","args":{},"code":0,"data":{"equip":[{"id":10,"name":"a"},{"id":11,"name":"a"},{"id":12,"name":"a"},{"id":13,"name":"a"},{"id":14,"name":"a"},{"id":15,"name":"a"},{"id":16,"name":"a"},{"id":17,"name":"a"},{"id":18,"name":"a"},{"id":19,"name":"a"}],"gemList":[{"id":202,"name":"2级谋略石"}],"gemMap":{"202":1},"materialList":[{"id":9,"name":"钨钢"},{"id":1,"name":"黑铁"},{"id":14,"name":"大理石"},{"id":13,"name":"玛瑙"},{"id":19,"name":"技能书"},{"id":4,"name":"紫檀"},{"id":7,"name":"软皮"},{"id":10,"name":"银丝"},{"id":28,"name":"二级图纸"},{"id":27,"name":"一级图纸"},{"id":23,"name":"三级培养丹"}],"materialMap":{"1":990,"10":1,"13":75,"14":1,"19":1,"23":1,"27":8,"28":4,"4":1,"7":1,"9":1}},"mod":"package","serverTime":1404726240229}},"t":0,"type":"request","uid":2}




